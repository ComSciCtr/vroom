<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='utf-8'>
<title>button_release</title>
<link href="/vroom/assets/css/vendor/bootstrap/bootstrap.min.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/vroom/assets/css/vendor/bootstrap/bootstrap-responsive.min.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/vroom/assets/css/site.css" media="screen" rel="stylesheet" type="text/css" />
<script src="/vroom/assets/js/holder.js" type="text/javascript"></script>


</head>
<body>
<header>
<div class='navbar navbar-fixed-top'>
<div class='navbar-inner'>
<a class='brand' href='/vroom/'>
<i class='icon-home'></i>
</a>
<ul class='nav'>
<li><a href="/vroom/download.html">download</a></li>
<li><a href="/vroom/documentation/">documentation</a></li>
<li><a href="/about.html">about</a></li>
<li><a href="/demos.html">demos</a></li>
</ul>
</div>
</div>

</header>
<div id='main'>
<div class='row-fluid'>
<div class='span12'>
<div class='hero-unit'>
<h1>button_release</h1>
<h3>
<a data-placement='right' data-toggle='tooltip' href='https://github.com/jvan/vroom/blob/master/vroom/core/application.py' title='view source on github'>
<i class='icon-github'></i>
core/application.py
</a>
</h3>
<div class='taglist'>
<h4 class='inline label label-info'>tags:</h4>
<ul class='inline'>
<li>
<a href="/vroom/documentation/tags/structure.html">structure</a>
</li>
</ul>
</div>

</div>
</div>
</div>
<div class='row-fluid'>
<div class='span8 offset2'>
<p>Internal interaction function. Called whenever a button is released. </p>

<div class="alert alert-info">
<p>This is an internal function used by <strong>vroom</strong>. All internal functions are
optional. However, if they are defined in your application they will be 
called automatically. A list of all internal <strong>vroom</strong> functions can be
found <a href="/documentation/tags/structure.html">here</a>.</p>
</div>

<h3 id="usage">usage</h3>

<pre class="highlight python"><span class="k">def</span> <span class="nf">button_release</span><span class="p">(</span><span class="n">position</span><span class="p">,</span> <span class="n">button</span><span class="p">):</span>
   <span class="c"># interaction code goes here...</span>
</pre>
<h3 id="paramaters">paramaters</h3>

<table>
  <tbody>
    <tr>
      <td>position</td>
      <td>(x, y, z) position of the cursor location</td>
    </tr>
    <tr>
      <td>button</td>
      <td>button ID value</td>
    </tr>
  </tbody>
</table>

<h3 id="example">example</h3>

<p>In the following example we use the <code>button_release()</code> function to build on the
<code>button_press</code> <a href="/documentation/structure/button-press.html#example">example</a>.  Instead of
drawing uniform spheres we will allow the user to set the size of each sphere
independently. The user presses the button down to set the origin. When the
button is released the radius is calculated and the sphere is drawn.</p>

<pre class="highlight python"><span class="k">def</span> <span class="nf">init</span><span class="p">():</span>
   <span class="c"># We will use the following array to store the center point and the</span>
   <span class="c"># radius of each sphere.</span>
   <span class="n">Global</span><span class="o">.</span><span class="n">points</span> <span class="o">=</span> <span class="p">[]</span> <span class="c"># start with an empty array</span>

<span class="k">def</span> <span class="nf">display</span><span class="p">():</span>
   <span class="c"># Draw all the spheres.</span>
   <span class="n">lighting</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
   <span class="n">color</span><span class="p">(</span><span class="n">green</span><span class="p">)</span>

   <span class="k">for</span> <span class="n">center</span><span class="p">,</span> <span class="n">radius</span> <span class="ow">in</span> <span class="n">Global</span><span class="o">.</span><span class="n">points</span><span class="p">:</span>
      <span class="n">draw</span><span class="p">(</span><span class="n">sphere</span><span class="p">,</span> <span class="n">radius</span><span class="p">)</span><span class="o">.</span><span class="n">at</span><span class="p">(</span><span class="n">center</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">button_press</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">button</span><span class="p">):</span>
   <span class="c"># Use the current cursor postion for the center of the sphere. We use</span>
   <span class="c"># a Global variable here so we can access it later in the button_release</span>
   <span class="c"># function.</span>

   <span class="n">Global</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="n">pos</span>

<span class="k">def</span> <span class="nf">button_release</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">button</span><span class="p">):</span>
   <span class="c"># Compute the radius of the sphere using the center point stored when the</span>
   <span class="c"># button was pressed and position when it was released.</span>
   <span class="n">radius</span> <span class="o">=</span> <span class="n">distance</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">Global</span><span class="o">.</span><span class="n">center</span><span class="p">)</span>   

   <span class="c"># Add the center point and radius to our arary</span>
   <span class="n">Global</span><span class="o">.</span><span class="n">points</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">Global</span><span class="o">.</span><span class="n">center</span><span class="p">,</span> <span class="n">radius</span><span class="p">])</span>
</pre>
<h4 class='inline label label-info' id='related'>see also:</h4>
<ul class='inline'>
<li><a href="/vroom/documentation/structure/button-press.html">button_press</a></li>
<li><a href="/vroom/documentation/structure/motion.html">motion</a></li>
</ul>

</div>
</div>

<div class='push'></div>
</div>
<footer>
<div class='row'>
<div class='span4 offset1'>
<ul class='unstyled'>
<li>
<i class='icon-envelope'></i>
<a href="mailto:jvan@cse.ucdavis.edu">email</a>
</li>
<li>
<i class='icon-github-alt'></i>
<a href="https://github.com/jvan/vroom">github project</a>
</li>
<li>
<i class='icon-bug'></i>
<a href="http://iviz.csc.ucdavis.edu/redmine/projects/vroom">issues</a>
</li>
</ul>
<p>this site was built using <a href="http://middlemanapp.com">middleman</a> and
<a href="http://twitter.github.io/bootstrap/">bootstrap</a></p>
</div>
</div>

</footer>
<script src="/vroom/assets/js/jquery.js" type="text/javascript"></script>
<script src="/vroom/assets/js/bootstrap/bootstrap.min.js" type="text/javascript"></script>
<script>
  // Enable tooltips
  $('[data-toggle="tooltip"]').tooltip();
  
  // Add markup to overview paragraph
  $('p:first').addClass('lead')
  
  // Add markup to table elements
  $('table').addClass('table table-bordered');
  $('tr td:first-child').addClass('alert alert-info');
  
  // Add empty list element for to store tab toggle links
  $('h3:last').after('<ul class="nav nav-pills nav-stacked" id="nav-tab"/>');
  
  $('h3:last ~ h4').not('#related').each(function() {
    var tab_id = $(this).attr("id");
  
    // add a link to toggle the section content
    $('#nav-tab').append('<li><a href="#'+tab_id+'" data-toggle="tab">'+$(this).text()+'</a></li>');
  
    // wrap the section content in a div
    $(this).nextUntil('h4')
           .andSelf()
           .wrapAll('<div class="tab-pane fade media" id="'+tab_id+'" />');
  });
  
  // Make the first tab toggle active
  $('#nav-tab li:first').addClass('active');
  
  $('.tab-pane').each(function() {
    // Image elements come wrapped in p-elements; replace with media markup
    $(this).find('img').unwrap().wrap('<a class="pull-right"/>').addClass('media-object');
  
    // Wrap code block in media-body div
    $(this).find('pre').wrap('<div class="media-body"/>');
  
    // Remove the header element (text already added to list above)
    $(this).find('h4').remove();
  
  }).first().addClass('in active'); // activate the first content section
  
  // Wrap all content sections in div
  $('.tab-pane').wrapAll('<div class="tab-content"/>');
</script>

</body>
</html>


